extends Spatial

onready var body: RigidBody = $TestBody
onready var ball = preload("res://scenes/DebugSphere.tscn")
var debug_ball
var point = Vector3(0, 1, -2)

func _ready():
	debug_ball = ball.instance()
	add_child(debug_ball)

func _physics_process(delta):
	debug_ball.transform.origin = point
	if Input.is_action_just_pressed("alt_click"):
		var res = PhysicsTestMotionResult.new()
		PhysicsServer.body_test_motion(
			body.get_rid(), Transform(Basis.IDENTITY, point), Vector3.DOWN * 0.25, false, res
		)
		print(res.collision_normal, res.collision_point)
		point.z += 0.01
